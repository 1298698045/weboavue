{"version":3,"file":"createMiddleware.js","sources":["../../src/service/ajax.js","../../src/utils/ImageManager.js","../../src/utils/index.js","../../src/service/service.js","../../src/core/BaseMiddleware.js","../../node_modules/.pnpm/es-toolkit@1.30.1/node_modules/es-toolkit/dist/function/debounce.mjs","../../node_modules/.pnpm/es-toolkit@1.30.1/node_modules/es-toolkit/dist/function/throttle.mjs","../../src/core/Middleware.js","../../src/core/createMiddleware.js"],"sourcesContent":["import qs from \"querystring\";\n\nconst defaultHeaders = {\n  \"Content-Type\": \"application/json\",\n  \"Cache-Control\": \"no-cache\",\n};\n\nfunction syncAjax(url, method, data, headers = {}, async = false) {\n  const xhr = new XMLHttpRequest();\n\n  // ÂàùÂßãÂåñËØ∑Ê±ÇÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞ËÆæ‰∏∫ falseÔºåË°®Á§∫ÂêåÊ≠•ËØ∑Ê±Ç\n  xhr.open(method, url, async);\n\n\n  // ËÆæÁΩÆËØ∑Ê±ÇÂ§¥\n  const combinedHeaders = { ...defaultHeaders, ...headers };\n  for (const key in combinedHeaders) {\n    xhr.setRequestHeader(key, combinedHeaders[key]);\n  }\n\n  // ÂèëÈÄÅËØ∑Ê±Ç\n  if (method.toUpperCase() === \"POST\") {\n    xhr.send(JSON.stringify(data)); // ÂèëÈÄÅ POST ËØ∑Ê±ÇÊó∂ÈúÄË¶Å‰º†ÈÄíÊï∞ÊçÆ\n  } else {\n    xhr.send(); // GET ËØ∑Ê±Ç‰∏çÈúÄË¶ÅÊï∞ÊçÆ\n  }\n\n  // Á°Æ‰øùËØ∑Ê±ÇÂÆåÊàêÂêéÊâçËøîÂõûÂìçÂ∫îÁªìÊûú\n  // ÊöÇÊó∂Âè™ÊúâÂêåÊ≠•ËØ∑Ê±ÇÊúâËøîÂõûÂÄº\n  if (!async) {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      return JSON.parse(xhr.responseText); // ËøîÂõûÂìçÂ∫îÂÜÖÂÆπ\n    } else {\n      console.error(\"Request failed with status: \" + xhr.status);\n      return null; // ËØ∑Ê±ÇÂ§±Ë¥•Êó∂ËøîÂõû null\n    }\n  }\n}\n\nclass Ajax {\n  get(url, params, headers = {}, async = false) {\n    const reqUrl = url;\n    return syncAjax(params ? `${reqUrl}?${qs.stringify(params)}` : reqUrl, \"GET\", headers, async);\n  }\n\n  post(url, data, headers = {}, async = false) {\n    return syncAjax(url, \"POST\", data, headers, async);\n  }\n\n  delete(url, headers = {}, async = false) {\n    return syncAjax(url, \"DELETE\", null, headers, async);\n  }\n}\n\nexport default Ajax;\n","class ImageManager {\n  constructor(root) {\n    this.root = root;\n    this.img = null;\n  }\n\n  createImage(src) {\n    return new Promise((resolve) => {\n      const img = new Image();\n      Object.assign(img.style, {\n        position: \"absolute\",\n        objectFit: \"cover\", // È©ºÂ≥∞ÂºèÊõø‰ª£ËøûÂ≠óÁ¨¶ÂÜôÊ≥ï\n        transform: \"translateZ(0)\",\n        willChange: \"transform\", // Áªü‰∏ÄÂ±ûÊÄßÂëΩÂêçÊ†ºÂºè\n      });\n\n      img.onload = () => {\n        if (this.root && this.root.parentNode) {\n          this.img = img;\n          this.root.parentNode.appendChild(img);\n          this.updatePosition();\n\n          this.hideImage();\n          resolve();\n        }\n      };\n\n      img.src = src;\n    });\n  }\n\n  updateImage(src) {\n    console.log(\"üöÄ ~ ImageManager ~ updateImage ~ src:\", src);\n    return new Promise((resolve, reject) => {\n      if (!this.img) return;\n\n      // Ê∏ÖÁêÜÊóßÁõëÂê¨Âô®Èò≤Ê≠¢ÈáçÂ§çËß¶Âèë\n      this.img.onload = null;\n      this.img.onerror = null; // Êñ∞Â¢ûÈîôËØØÁõëÂê¨Ê∏ÖÁêÜ\n\n      const handleLoad = () => {\n        this.img.onerror = null; // Ê∏ÖÁêÜÈîôËØØÁõëÂê¨\n        this.updatePosition();\n        this.showImage();\n        resolve();\n      };\n\n      const handleError = () => {\n        this.img.onload = null; // Ê∏ÖÁêÜÊàêÂäüÁõëÂê¨\n        reject();\n      };\n\n      this.img.onload = handleLoad;\n      this.img.onerror = handleError; // Ê∑ªÂä†ÈîôËØØÂ§ÑÁêÜÂô®\n\n      this.img.src = src;\n    });\n  }\n\n  updatePosition() {\n    if (!this.img) return;\n    const img = this.img;\n    const { top, left, width, height } = this.root.getBoundingClientRect();\n    const border = 4;\n    if (!img.style.top) {\n      img.style.top = top + document.body.scrollTop + border + \"px\";\n    }\n    if (!img.style.left) {\n      img.style.left = left - border + \"px\";\n    }\n\n    img.width = width;\n    img.height = height;\n    img.style.width = width + \"px\";\n    img.style.height = height + \"px\";\n  }\n\n  showImage() {\n    if (!this.img) return;\n    this.img.style.opacity = \"1\";\n  }\n\n  hideImage() {\n    if (!this.img) return;\n    this.img.style.opacity = \"0\";\n  }\n}\n\nexport default ImageManager;\n","function handleParams(params) {\r\n  return params.map(function (param) {\r\n    var type = typeof param;\r\n    switch (type) {\r\n      case \"boolean\":\r\n        return {\r\n          type: \"BOOL\",\r\n          value: param,\r\n        };\r\n      case \"number\":\r\n        return {\r\n          type: \"LONG\",\r\n          value: param,\r\n        };\r\n      case \"object\":\r\n        return {\r\n          type: \"IDISPATCH\",\r\n          value: param.service.caller,\r\n        };\r\n      default:\r\n        return {\r\n          type: \"BSTR\",\r\n          value: String(param),\r\n        };\r\n    }\r\n  });\r\n}\r\n\r\nfunction parseParams(params) {\r\n  const result = [];\r\n  params.forEach((param) => {\r\n    const { type, value } = param;\r\n\r\n    switch (type) {\r\n      case \"BOOL\":\r\n        const val = value == \"true\" ? true : false;\r\n        result.push(val);\r\n        break;\r\n      case \"BSTR\":\r\n        result.push(value.toString());\r\n        break;\r\n      case \"LONG\":\r\n        result.push(Number(value));\r\n        break;\r\n      default:\r\n        result.push(value);\r\n    }\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nfunction getContentBeforeParenthesis(input) {\r\n  let parenthesisIndex = input.indexOf(\"(\");\r\n  return parenthesisIndex !== -1 ? input.substring(0, parenthesisIndex) : input;\r\n}\r\n\r\nfunction getScriptElementsWithEvents(id) {\r\n  const selector = `script[language=\"JavaScript\"][for=\"${id}\"][event]`;\r\n  const scripts = document.querySelectorAll(selector);\r\n  const result = [];\r\n\r\n  scripts.forEach((script) => {\r\n    const event = script.getAttribute(\"event\"); // Ëé∑Âèñ event Â±ûÊÄß\r\n    const eventName = getContentBeforeParenthesis(event);\r\n    const content = script.textContent.trim(); // Ëé∑Âèñ script ÁöÑÂÜÖÂÆπ\r\n    result.push({ event, content, eventName });\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nfunction isIE() {\r\n  var userAgent = window.navigator.userAgent;\r\n  var msie = userAgent.indexOf(\"MSIE \");\r\n  var trident = userAgent.indexOf(\"Trident/\");\r\n\r\n  var isIE11 = !!document.documentMode; // For IE11, which does not have 'MSIE' in the userAgent string\r\n\r\n  return msie > -1 || trident > -1 || isIE11;\r\n}\r\n\r\nfunction getTime() {\r\n  const now = new Date();\r\n\r\n  // Ëé∑ÂèñÊó∂„ÄÅÂàÜ„ÄÅÁßí\r\n  let hours = now.getHours(); // Â∞èÊó∂ (0-23)\r\n  let minutes = now.getMinutes(); // ÂàÜÈíü (0-59)\r\n  let seconds = now.getSeconds(); // Áßí (0-59)\r\n\r\n  // Ê†ºÂºèÂåñ‰∏∫‰∏§‰ΩçÊï∞ÔºàË°•Èõ∂Ôºâ\r\n  hours = String(hours).padStart(2, \"0\");\r\n  minutes = String(minutes).padStart(2, \"0\");\r\n  seconds = String(seconds).padStart(2, \"0\");\r\n\r\n  // ÊãºÊé•‰∏∫ HH:mm:ss Ê†ºÂºè\r\n  return `${hours}:${minutes}:${seconds}`;\r\n}\r\n\r\nfunction generateWhiteImage(width, height) {\r\n  // ÂàõÂª∫‰∏Ä‰∏™ canvas ÂÖÉÁ¥†\r\n  const canvas = document.createElement(\"canvas\");\r\n  canvas.width = width; // ËÆæÁΩÆÂÆΩÂ∫¶\r\n  canvas.height = height; // ËÆæÁΩÆÈ´òÂ∫¶\r\n\r\n  // Ëé∑Âèñ 2D ÁªòÂõæ‰∏ä‰∏ãÊñá\r\n  const ctx = canvas.getContext(\"2d\");\r\n\r\n  // Â°´ÂÖÖÁôΩËâ≤ËÉåÊôØ\r\n  ctx.fillStyle = \"#FFF\"; // ÁôΩËâ≤\r\n  ctx.fillRect(0, 0, width, height);\r\n\r\n  // Êñ∞Â¢ûÂÜÖÊèèËæπÈÄªËæë\r\n  ctx.strokeStyle = \"#CCCCCC\"; // ‰ΩøÁî®ÊµÖÁÅ∞Ëâ≤ÊèèËæπ\r\n  ctx.lineWidth = 1; // 1ÂÉèÁ¥†Á∫øÂÆΩ\r\n  ctx.strokeRect(1, 1, width - 1, height - 1); // 0.5ÂÅèÁßªÈÅøÂÖçÊ®°Á≥ä\r\n\r\n  // Â∞Ü canvas ËΩ¨Êç¢‰∏∫ Data URL\r\n  return canvas.toDataURL(\"image/png\"); // ËøîÂõû base64 ÁºñÁ†ÅÁöÑÂõæÁâáÊï∞ÊçÆ\r\n}\r\n\r\nfunction isFullScreen() {\r\n  return window.outerWidth === window.screen.availWidth && window.outerHeight === window.screen.availHeight;\r\n}\r\n\r\nfunction hasVerticalScrollbar() {\r\n  return document.documentElement.clientHeight > window.innerHeight;\r\n}\r\n\r\nfunction isInnerIframe() {\r\n  return window.parent !== window.self;\r\n}\r\n\r\nfunction createNewObject(root) {\r\n  const object = document.createElement(\"object\");\r\n  const validAttrNameRegex = /^[a-zA-Z]+$/; // ‰ªÖÂÖÅËÆ∏Á∫ØÂ≠óÊØçÁöÑÂ±ûÊÄßÂêç\r\n\r\n  for (let attr of root.attributes) {\r\n    if (validAttrNameRegex.test(attr.name)) {\r\n      object.setAttribute(attr.name, attr.value);\r\n    }\r\n  }\r\n\r\n  object.setAttribute(\"isFakeObject\", true);\r\n  const parent = root.parentElement;\r\n  parent.innerHTML = \"\";\r\n  parent.appendChild(object);\r\n\r\n  return object;\r\n}\r\n\r\nimport Mask from \"./Mask\";\r\nimport ImageManager from \"./ImageManager\";\r\nexport {\r\n  handleParams,\r\n  parseParams,\r\n  getScriptElementsWithEvents,\r\n  isIE,\r\n  getTime,\r\n  generateWhiteImage,\r\n  isFullScreen,\r\n  hasVerticalScrollbar,\r\n  isInnerIframe,\r\n  createNewObject,\r\n  Mask,\r\n  ImageManager,\r\n};\r\n","import Ajax from \"./ajax\";\nimport { handleParams } from \"../utils\";\n\nconst ajax = new Ajax();\n\nfunction handleRequest(url, reqBody, async = false, errorMsg = \"Request ËØ∑Ê±ÇÂºÇÂ∏∏\") {\n  const params = new URLSearchParams({\n    product: \"iWebOffice\",\n  });\n  const reqUrl = `${url}?${params}`;\n  if (self.registration) {\n    fetch(reqUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(reqBody),\n    });\n  } else {\n    if (async) {\n      ajax.post(reqUrl, reqBody, {}, async);\n    } else {\n      const response = ajax.post(reqUrl, reqBody, {}, async);\n\n      if (response.value !== \"none\" && response.value !== \"Failed no method\") {\n        return response;\n      } else {\n        throw new Error(errorMsg);\n      }\n    }\n  }\n}\n\nclass Service {\n  baseUrl;\n  caller;\n\n  constructor(baseUrl, caller) {\n    this.baseUrl = baseUrl;\n    this.caller = caller;\n  }\n\n  ReqUrl() {\n    const bit = this.GetBit();\n    const reqUrl = `https://local.kinggrid.com:9582/api/Midware/v1/kgmidware/requrl?bit=${bit}&product=iWebOffice`;\n    const response = ajax.get(reqUrl);\n\n    this.response = response;\n\n    const { httpsurl } = response;\n    if (httpsurl) {\n      this.baseUrl = httpsurl;\n      return this.baseUrl;\n    } else {\n      throw new Error(\"ReqUrl ËØ∑Ê±ÇÂºÇÂ∏∏\");\n    }\n  }\n\n  GetURL() {\n    return this.response;\n  }\n\n  GetBrowser() {\n    var userAgent = navigator.userAgent;\n    var userAgent = userAgent.toLowerCase();\n\n    var browser;\n    var index = userAgent.indexOf(\"edg/\");\n\n    if (index < 0) {\n      index = userAgent.indexOf(\"qihu 360ee\");\n\n      if (index < 0) {\n        index = userAgent.indexOf(\"qihu 360se\");\n\n        if (index < 0) {\n          browser = \"chrome.exe\";\n        } else browser = \"360se.exe\";\n      } else browser = \"360chrome.exe\";\n    } else {\n      browser = \"msedge.exe\";\n    }\n    return browser;\n  }\n\n  GetBit() {\n    try {\n      // Â∞ùËØïÂàÜÈÖç 4GB ÂÜÖÂ≠òÔºà‰ªÖ 64 ‰ΩçÊµèËßàÂô®ÊîØÊåÅÔºâ\n      new WebAssembly.Memory({ initial: 65536, maximum: 65536 }); // 65536 * 64KB = 4GB\n      return \"64\";\n    } catch (error) {\n      return \"32\";\n    }\n  }\n\n  GetInterface() {\n    const { baseUrl } = this;\n    const browser = this.GetBrowser();\n    const reqUrl = baseUrl + \"/GetInterface?product=iWebOffice\";\n\n    const reqBody = { progid: \"Kinggrid.iWebOffice.1\", interface: \"\", browser };\n\n    const response = ajax.post(reqUrl, { GetInterface: reqBody });\n\n    if (response.value && response.value !== \"none\") {\n      this.caller = response.value;\n      this.dpi = response.dpi ? response.dpi / 100 : 1;\n      console.log(\"üöÄ ~ Service ~ GetInterface ~ this.dpi:\", this.dpi);\n      return this.caller;\n    } else {\n      throw new Error(\"GetInterface ËØ∑Ê±ÇÂºÇÂ∏∏\");\n    }\n  }\n\n  GetDPR() {\n    return this.dpi;\n  }\n\n  GetPic() {\n    const { baseUrl } = this;\n    const reqUrl = baseUrl + \"/GetPic\";\n    const scale = 100; //Math.floor(window.devicePixelRatio * 100);\n    const reqBody = {\n      GetPic: {\n        params: handleParams([scale]),\n      },\n    };\n\n    const errorMsg = `GetPic ËØ∑Ê±ÇÂºÇÂ∏∏`;\n    return handleRequest(reqUrl, reqBody, false, errorMsg);\n  }\n\n  Focus() {\n    const { baseUrl } = this;\n    const reqUrl = baseUrl + \"/Focus\";\n    const reqBody = {\n      Focus: {},\n    };\n\n    const errorMsg = `Focus ËØ∑Ê±ÇÂºÇÂ∏∏`;\n    return handleRequest(reqUrl, reqBody, false, errorMsg);\n  }\n\n  MethodCall(func, params) {\n    const { baseUrl, caller } = this;\n    const reqUrl = baseUrl + \"/MethodCall\";\n    const reqBody = { MethodCall: { caller, function: func } };\n    const errorMsg = `MethodCall ËØ∑Ê±ÇÂºÇÂ∏∏: ${func}`;\n\n    if (params) {\n      reqBody.MethodCall.params = handleParams(params);\n    }\n\n    // console.log(\"üöÄ ~ Service ~ MethodCall ~ reqBody:\", reqBody);\n\n    window.__iWebOffice2015__.MethodCall += 1;\n    return handleRequest(reqUrl, reqBody, false, errorMsg);\n  }\n  EventList(events) {\n    const { baseUrl, caller } = this;\n    const reqUrl = baseUrl + \"/EventList\";\n    const reqBody = { EventList: { caller, events: events } };\n    const errorMsg = `EventList ËØ∑Ê±ÇÂºÇÂ∏∏: ${events}`;\n\n    return handleRequest(reqUrl, reqBody, errorMsg);\n  }\n\n  PropPut(prop, value) {\n    const { baseUrl, caller } = this;\n    const reqUrl = baseUrl + \"/MethodCall\";\n    const reqBody = { PropPut: { caller, propname: prop } };\n    const errorMsg = `PropPut ËØ∑Ê±ÇÂºÇÂ∏∏: ${prop}=${value}`;\n\n    reqBody.PropPut.params = handleParams([value]);\n\n    // console.log(\"üöÄ ~ Service ~ PropPut ~ reqBody:\", reqBody);\n    window.__iWebOffice2015__.PropPut += 1;\n    return handleRequest(reqUrl, reqBody, false, errorMsg);\n  }\n\n  PropPutPkg(cacheSetPropertyMap) {\n    const { baseUrl, caller } = this;\n    const reqUrl = baseUrl + \"/MethodCall\";\n    const reqBody = { PropPutPkg: [] };\n    const errorMsg = `PropPutPkg ËØ∑Ê±ÇÂºÇÂ∏∏: ${JSON.stringify(cacheSetPropertyMap)}`;\n\n    for (const key in cacheSetPropertyMap) {\n      reqBody.PropPutPkg.push({\n        caller,\n        propname: key,\n        params: handleParams([cacheSetPropertyMap[key]]),\n      });\n    }\n\n    // console.log(\"üöÄ ~ Service ~ PropPutPkg ~ reqBody:\", reqBody);\n    window.__iWebOffice2015__.PropPutPkg += 1;\n\n    try {\n      handleRequest(reqUrl, reqBody, false, errorMsg);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  PropGet(prop) {\n    const { baseUrl, caller } = this;\n    const reqUrl = baseUrl + \"/MethodCall\";\n    const reqBody = { PropGet: { caller, propname: prop } };\n    const errorMsg = `PropGet ËØ∑Ê±ÇÂºÇÂ∏∏: ${prop}`;\n    // console.log(\"üöÄ ~ Service ~ PropGet ~ reqBody:\", reqBody);\n    window.__iWebOffice2015__.PropGet += 1;\n    return handleRequest(reqUrl, reqBody, false, errorMsg);\n  }\n}\n\nexport default Service;\n","import Service from \"../service/service\";\n\nclass BaseMiddleware {\n  service = new Service();\n  methods = [];\n  cacheSetPropertyMap = {}; // ÁºìÂ≠òÂ±ûÊÄßËÆæÁΩÆ\n  _enableCacheSetProperty = false; // ÊòØÂê¶ÈúÄË¶ÅÁºìÂ≠òÂ±ûÊÄßËÆæÁΩÆËØ∑Ê±Ç\n  _propertiesWithoutCache = [\"Copyright\"]; // ‰∏çÈúÄË¶ÅÁºìÂ≠òÁöÑÂ±ûÊÄßËÆæÁΩÆ\n\n  /**\n   * Áã¨Á´ãÂ§ÑÁêÜHidePluginÊìç‰Ωú\n   */\n  handleHidePluginAction(params) {\n    const actionType = Number(params[0]);\n\n    switch (actionType) {\n      case 0:\n        return __iWebOffice2015__.hideWebOffice();\n      case 1:\n        return __iWebOffice2015__.showWebOffice();\n      default:\n        console.warn(`Unsupported HidePlugin action type: ${actionType}`);\n        return null;\n    }\n  }\n\n  methodCall(func, ...params) {\n    if (func == \"HidePlugin\") {\n      return this.handleHidePluginAction(params);\n    }\n\n    if (this.root && typeof this.root[func] === \"function\") {\n      return this.root[func](...params);\n    }\n\n    const response = this.service.MethodCall(func, params);\n    if (func == \"WebOpen\" && response.value == \"true\") {\n      __iWebOffice2015__.pluginInstance.WebOpen();\n    }\n\n    if (!this.methods.includes(func)) {\n      this.methods.push(func);\n    }\n\n    switch (response.type) {\n      case \"BOOL\":\n        return response.value == \"true\" ? true : false;\n      case \"BSTR\":\n        if (typeof response.value === \"object\") {\n          return JSON.stringify(response.value);\n        }\n        return response.value.toString();\n      case \"LONG\":\n        return Number(response.value);\n      case \"IDispatch\":\n        const middleware = createMiddleware(response.value);\n        middleware.service.baseUrl = this.service.baseUrl;\n        middleware.service.caller = response.value;\n        return middleware;\n      default:\n        return response.value;\n    }\n  }\n\n  getProperty(key) {\n    if (this.root && typeof this.root[key] !== \"undefined\" && typeof this.root[key] !== \"function\") {\n      return this.root[key];\n    }\n\n    const response = this.service.PropGet(key);\n\n    switch (response.type) {\n      case \"BOOL\":\n        return response.value == \"true\" ? true : false;\n      case \"BSTR\":\n        if (typeof response.value === \"object\") {\n          return JSON.stringify(response.value);\n        }\n        return response.value.toString();\n      case \"LONG\":\n        return Number(response.value);\n      case \"IDispatch\":\n        const middleware = createMiddleware(response.value);\n        middleware.service.baseUrl = this.service.baseUrl;\n        middleware.service.caller = response.value;\n        return middleware;\n      default:\n        return response.value;\n    }\n  }\n\n  setProperty(key, value) {\n    if (this.root && typeof this.root[key] !== \"undefined\" && typeof this.root[key] !== \"function\") {\n      this.root[key] = value;\n      return;\n    }\n\n    if (!this._enableCacheSetProperty || this._propertiesWithoutCache.includes(key)) {\n      this.service.PropPut(key, value);\n    } else {\n      this.cacheSetPropertyMap[key] = value;\n    }\n  }\n\n  sendCacheSetProperties() {\n    if (this._enableCacheSetProperty) {\n      const cacheSetPropertyMap = Object.assign({}, this.cacheSetPropertyMap);\n      this.cacheSetPropertyMap = {};\n      this.service.PropPutPkg(cacheSetPropertyMap);\n    }\n  }\n}\n\nexport default BaseMiddleware;\n","function debounce(func, debounceMs, { signal, edges } = {}) {\n    let pendingThis = undefined;\n    let pendingArgs = null;\n    const leading = edges != null && edges.includes('leading');\n    const trailing = edges == null || edges.includes('trailing');\n    const invoke = () => {\n        if (pendingArgs !== null) {\n            func.apply(pendingThis, pendingArgs);\n            pendingThis = undefined;\n            pendingArgs = null;\n        }\n    };\n    const onTimerEnd = () => {\n        if (trailing) {\n            invoke();\n        }\n        cancel();\n    };\n    let timeoutId = null;\n    const schedule = () => {\n        if (timeoutId != null) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = null;\n            onTimerEnd();\n        }, debounceMs);\n    };\n    const cancelTimer = () => {\n        if (timeoutId !== null) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n        }\n    };\n    const cancel = () => {\n        cancelTimer();\n        pendingThis = undefined;\n        pendingArgs = null;\n    };\n    const flush = () => {\n        cancelTimer();\n        invoke();\n    };\n    const debounced = function (...args) {\n        if (signal?.aborted) {\n            return;\n        }\n        pendingThis = this;\n        pendingArgs = args;\n        const isFirstCall = timeoutId == null;\n        schedule();\n        if (leading && isFirstCall) {\n            invoke();\n        }\n    };\n    debounced.schedule = schedule;\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    signal?.addEventListener('abort', cancel, { once: true });\n    return debounced;\n}\n\nexport { debounce };\n","import { debounce } from './debounce.mjs';\n\nfunction throttle(func, throttleMs, { signal, edges = ['leading', 'trailing'] } = {}) {\n    let pendingAt = null;\n    const debounced = debounce(func, throttleMs, { signal, edges });\n    const throttled = function (...args) {\n        if (pendingAt == null) {\n            pendingAt = Date.now();\n        }\n        else {\n            if (Date.now() - pendingAt >= throttleMs) {\n                pendingAt = Date.now();\n                debounced.cancel();\n                debounced(...args);\n            }\n        }\n        debounced(...args);\n    };\n    throttled.cancel = debounced.cancel;\n    throttled.flush = debounced.flush;\n    return throttled;\n}\n\nexport { throttle };\n","import BaseMiddleware from \"./BaseMiddleware\";\nimport { throttle, debounce } from \"es-toolkit\";\nimport { Mask, parseParams, isInnerIframe, ImageManager } from \"../utils\";\n\nclass Middleware extends BaseMiddleware {\n  root;\n\n  constructor() {\n    super();\n\n    this.inital();\n    this.service.ReqUrl();\n\n    this.service.GetInterface();\n\n    // this.httpSetPos();\n    this.socketConnect();\n    // this.mask = new Mask(this.root);\n\n    // Êâ©Â±ïÂèÇÊï∞\n    this.WpsPersonalShowFlag();\n    // Ê≥®ÂÜå‰∫ã‰ª∂\n    this.registEvents();\n    // ËÆæÁΩÆcopyright\n    this.setCopyright();\n\n    this.bindThis();\n    this.bindEvents();\n    this.bindGlobalApi();\n  }\n\n  httpSetPos() {\n    // Á≥ªÁªüÁº©ÊîæÊØî\n    this.outer_dpr = this.service.GetDPR();\n    const params = this.calcPos();\n    this.service.MethodCall(\"SetPos\", params);\n  }\n\n  WpsPersonalShowFlag() {\n    const ext = \"WpsPersonalShowFlag\";\n    const value = this.root.getAttribute(ext);\n    if (value) {\n      this.setProperty(ext, value);\n    }\n  }\n  registEvents() {\n    this.EventsMap = {};\n    for (const attr of this.root.attributes) {\n      const name = attr.name.toLowerCase();\n      if (name.startsWith(\"on\")) {\n        this.EventsMap[name] = attr.value;\n      }\n    }\n    // console.log(\"üöÄ ~ Middleware ~ registEvents ~ this.EventsMap:\", this.EventsMap);\n    const eventList = Object.keys(this.EventsMap).join(\",\");\n    this.service.EventList(eventList);\n  }\n\n  bindThis() {\n    this.updateImage = this.updateImage.bind(this);\n    this.debounceUpdateImage = debounce(this.updateImage, 200);\n    this.onScroll = this.onScroll.bind(this);\n    this.onScrollImage = this.onScrollImage.bind(this);\n\n    // Ë∞ÉÊï¥‰∏∫16msÂÆûÁé∞60Â∏ß\n    this.debounceScroll = throttle(this.onScroll, 16);\n    this.onFocus = this.onFocus.bind(this);\n    this.debounceFocus = throttle(this.onFocus, 100);\n    this.showWebOffice = this.showWebOffice.bind(this);\n    this.hideWebOffice = this.hideWebOffice.bind(this);\n\n    this.onWindowResize = this.onWindowResize.bind(this);\n    this.onBeforeunload = this.onBeforeunload.bind(this);\n    this.onVisibilityChanged = this.onVisibilityChanged.bind(this);\n    this.debounceResize = throttle(this.onWindowResize, 100);\n  }\n\n  bindGlobalApi() {\n    this.globalConfig.hideWebOffice = () => {\n      this.displayPermission = false;\n      this.hideWebOffice();\n    };\n    this.globalConfig.showWebOffice = () => {\n      this.displayPermission = true;\n      this.showWebOffice();\n    };\n    this.globalConfig.getImageSrc = () => {\n      return this.getImageSrc();\n    };\n  }\n\n  getGlobalConfig() {\n    return __iWebOffice2015__;\n  }\n\n  inital() {\n    this.isInnerIframe = isInnerIframe();\n    this.globalConfig = this.getGlobalConfig();\n    this.updateRootElement();\n    if (!this.root.id) throw new Error(\"Êéß‰ª∂ id ‰∏çËÉΩ‰∏∫Á©∫\");\n\n    this.preOuterHeight = 0;\n    this.worker =\n      this.globalConfig.workerInstance ||\n      new Worker(`${window.__iWebOffice2015__baseUrl}/kg-chrome-plugin/worker/socket.js`);\n\n    this.prevParams = \"\";\n    this.isReconnect = false;\n    this.displayPermission = true;\n    this.outer_dpr = 1;\n\n    this.imageManager = new ImageManager(this.root);\n  }\n\n  updateRootElement() {\n    for (let i = 0; i < this.globalConfig.selectors.length; i++) {\n      const selector = this.globalConfig.selectors[i];\n      const target = document.querySelector(selector);\n      if (target) {\n        this.root = target;\n        break;\n      }\n    }\n  }\n\n  calcPadTop() {\n    const top = this.preOuterHeight <= 50 ? 0 : this.preOuterHeight - window.outerHeight;\n    this.preOuterHeight = 0;\n    return top;\n  }\n\n  initImage() {\n    if (this.imageManager.img) return;\n    setTimeout(async () => {\n      const src = await this.getImageSrc();\n      const self = this;\n      await this.imageManager.createImage(src);\n      document.body.addEventListener(\"mouseenter\", () => {\n        self.visible && self.updateImage();\n      });\n      this.imageManager.img.addEventListener(\"mouseenter\", () => {\n        this.showWebOffice();\n      });\n    }, 1000);\n  }\n\n  WebOpen() {\n    console.log(\"üöÄ ~ Middleware ~ WebOpen ~ WebOpen:\");\n\n    // this.setPos();\n    // this.initImage();\n  }\n\n  socketConnect() {\n    const { wss, wsurl } = this.service.GetURL();\n\n    this.worker.postMessage({ action: \"start\", url: wss });\n\n    this.worker.onmessage = (event) => {\n      const { action, data } = event.data;\n      switch (action) {\n        case \"open\":\n          console.log(\"üöÄ ~ Middleware ~ socketConnect ~ open:\");\n          this.setPos();\n          break;\n        case \"close\":\n          this.isReconnect = true;\n          break;\n        case \"message\":\n          this.socketEventBus(JSON.parse(data));\n          break;\n        default:\n          break;\n      }\n    };\n  }\n  socketEventBus(data) {\n    const { type, evname, params } = data;\n    const value = parseParams(params);\n\n    switch (type) {\n      case \"event\":\n        this.socketHandleEvent(evname, value);\n        break;\n    }\n  }\n\n  socketHandleEvent(evname, value) {\n    const eventName = this.EventsMap[evname.toLowerCase()];\n    if (!eventName) return;\n\n    const eventFunction = window[eventName];\n\n    if (typeof eventFunction === \"function\") {\n      eventFunction(...value);\n    }\n  }\n\n  setCopyright() {\n    this.setProperty(\"Copyright\", this.root.getAttribute(\"copyright\"));\n  }\n\n  getIframeClientRect() {\n    if (!this.isInnerIframe) {\n      return { top: 0, left: 0 };\n    }\n\n    try {\n      // Êõ¥ÂÆâÂÖ®Âú∞Ëé∑ÂèñÂΩìÂâçiframeÂÖÉÁ¥†\n      const iframe =\n        window.frameElement || window.parent.document.querySelector(`iframe[src=\"${window.location.href}\"]`);\n      if (!iframe) return { top: 0, left: 0 };\n\n      const rect = iframe.getBoundingClientRect();\n      const parentViewport = window.parent.document.documentElement;\n\n      // Ëß£ËÄ¶ËÆ°ÁÆóÈÄªËæë\n      const calculateVerticalOffset = () => {\n        const baseHeight = parentViewport.clientHeight - window.innerHeight;\n        // Â§ÑÁêÜÁßªÂä®Á´ØÂ∑•ÂÖ∑Ê†èÂä®ÊÄÅÈ´òÂ∫¶\n        return Math.max(0, baseHeight - rect.top);\n      };\n\n      return {\n        top: calculateVerticalOffset(),\n        left: Math.floor(rect.left),\n      };\n    } catch (error) {\n      console.error(\"Iframe position calculation failed:\", error);\n      return { top: 0, left: 0 };\n    }\n  }\n\n  calcPos() {\n    // Ëé∑ÂèñÁªÑ‰ª∂Ê†πÂÖÉÁ¥†ÁöÑËæπÁïåÁü©ÂΩ¢\n    const rect = this.root.getBoundingClientRect();\n\n    // ÊªöÂä®Ë°•ÂÅøËÆ°ÁÆóÔºàÂ§ÑÁêÜÊµèËßàÂô®Âú∞ÂùÄÊ†èÁ≠âÁïåÈù¢ÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶ÂèòÂåñÔºâ\n    const pad_top = this.calcPadTop();\n\n    // ÊµèËßàÂô®Áº©ÊîæÊØî\n    const inner_dpr = window.devicePixelRatio;\n\n    // XËΩ¥ÂÆö‰ΩçÔºöÂÖÉÁ¥†Â∑¶ËæπÁïå √ó ËÆæÂ§áÂÉèÁ¥†ÊØî + ËæπÊ°Ü‰øÆÊ≠£\n    const left = Math.floor(rect.left * inner_dpr);\n\n    const iframeRect = this.getIframeClientRect();\n\n    // ÊµèËßàÂô®ÁïåÈù¢È´òÂ∫¶Â∑ÆÔºàÂåÖÊã¨Âú∞ÂùÄÊ†è„ÄÅ‰π¶Á≠æÊ†èÁ≠âÔºâ\n    const diffHeight = Math.floor(window.outerHeight * this.outer_dpr - window.innerHeight * inner_dpr);\n\n    // YËΩ¥ÂÆö‰ΩçÔºöÂÖÉÁ¥†È°∂ÈÉ®‰ΩçÁΩÆ + ÊªöÂä®Ë°•ÂÅø + ÁïåÈù¢È´òÂ∫¶Â∑Æ\n    const top = Math.floor(rect.top * inner_dpr + pad_top + diffHeight);\n\n    // ÂÖÉÁ¥†Â∞∫ÂØ∏ËÆ°ÁÆó\n    const width = Math.floor(rect.width * inner_dpr);\n    const inner_height = Math.floor(rect.height * inner_dpr);\n\n    let params = [];\n\n    // ËæπÊ°Ü‰øÆÊ≠£ÂÄº\n    const pad = {\n      left: 0, //6\n      top: 0,\n    };\n    const outer_left = left + pad.left + iframeRect.left * inner_dpr;\n    if (rect.top >= 0) {\n      const outer_Height = this.isInnerIframe ? (window.innerHeight - rect.top) * inner_dpr : inner_height;\n      const outer_top = top + pad.top - iframeRect.top * inner_dpr;\n      const inner_top = 0;\n      // ÂÖÉÁ¥†ÂÆåÂÖ®ÂèØËßÅÊó∂\n      params = [`${outer_left},${outer_top},${width},${outer_Height}`, `0,${inner_top},${width},${inner_height}`, true];\n\n      // Êõ¥Êñ∞ÂõæÁâáÂùêÊ†á‰ø°ÊÅØ\n      // this.imageManager.updateCoord(rect.left, rect.top, rect.width, rect.height);\n    } else {\n      if (rect.height < document.body.clientHeight) {\n        // ËìùÂáå Âú∫ÊôØ\n        const outer_Height = this.isInnerIframe ? (window.innerHeight - rect.top)  : inner_height;\n        const outer_top = Math.floor(pad_top + diffHeight - iframeRect.top); // Â§ñÈÉ®ÂèØËßÅÂå∫ÂüüÈ°∂ÈÉ®\n        const inner_top = Math.floor(rect.top * inner_dpr);\n        params = [\n          `${outer_left},${outer_top},${width},${outer_Height + inner_top}`,\n          `0,${inner_top},${width},${outer_Height}`,\n          true,\n        ];\n      } else {\n        // ÂÖÉÁ¥†ÈÉ®ÂàÜÊªöÂä®Âá∫ËßÜÂè£Êó∂\n        const outer_Height = this.isInnerIframe ? window.innerHeight * inner_dpr : inner_height;\n        // const outer_top = Math.floor((pad_top + diffHeight - iframeRect.top) * inner_dpr); // Â§ñÈÉ®ÂèØËßÅÂå∫ÂüüÈ°∂ÈÉ®\n        const outer_top = Math.floor(pad_top + diffHeight - iframeRect.top); // Â§ñÈÉ®ÂèØËßÅÂå∫ÂüüÈ°∂ÈÉ®\n        const inner_top = Math.floor(rect.top * inner_dpr); // ÂÜÖÈÉ®ÂÆûÈôÖ‰ΩçÁΩÆ\n\n        params = [\n          `${outer_left},${outer_top},${width},${outer_Height}`,\n          `0,${inner_top},${width},${inner_height}`,\n          true,\n        ];\n      }\n    }\n\n    return params;\n  }\n\n  setPos() {\n    if (!this.root) return;\n    if (!this.displayPermission) return;\n    // Ëé∑ÂèñÁªÑ‰ª∂Ê†πÂÖÉÁ¥†ÁöÑËæπÁïåÁü©ÂΩ¢\n    const params = this.calcPos();\n\n    // Êñ∞Â¢ûÁªü‰∏ÄÂèëÈÄÅÈÄªËæë\n    if (!this.checkSocketParams(params.toString())) return;\n\n    this.visible = true;\n    this.worker.postMessage({\n      action: \"send\",\n      func: \"SetPos\",\n      params,\n      caller: this.service.caller,\n    });\n  }\n\n  checkSocketParams(params) {\n    if (this.isReconnect) {\n      this.isReconnect = false;\n      return true;\n    }\n    const nextParams = params.toString();\n    if (this.prevParams === nextParams) return false;\n\n    this.prevParams = nextParams;\n    return true;\n  }\n\n  hide() {\n    const params = [\"0,0,0,0\", \"0,0,0,0\", false];\n    if (!this.checkSocketParams(params.toString())) return;\n\n    this.visible = false;\n    this.worker.postMessage({\n      action: \"send\",\n      func: \"SetPos\",\n      params,\n      caller: this.service.caller,\n    });\n  }\n\n  onBeforeunload() {\n    this.hide();\n    const url = this.service.baseUrl + \"/exit\";\n    navigator.sendBeacon(url);\n  }\n\n  onVisibilityChanged() {\n    if (document.hidden) {\n      // ‰øÆÂ§çÊ†áÁ≠æÈ°µÂàáÊç¢Âêé È´òÂ∫¶Â°åÈô∑ÈóÆÈ¢ò\n      this.preOuterHeight = window.outerHeight;\n      //this.hideWebOffice(true);\n      this.hide();\n    } else {\n      this.showWebOffice();\n      // this.imageManager.hideImage();\n    }\n  }\n\n  async hideWebOffice() {\n    // await this.updateImage();\n    this.hide();\n  }\n\n  showWebOffice() {\n    window.requestAnimationFrame(() => {\n      this.setPos();\n      // this.imageManager.hideImage();\n    });\n  }\n\n  getImageSrc() {\n    const { value } = this.service.GetPic();\n    return this.service.baseUrl + \"/files/\" + value;\n  }\n\n  async updateImage() {\n    const imageSrc = this.getImageSrc();\n    return await this.imageManager.updateImage(imageSrc);\n  }\n\n  onWindowResize() {\n    window.requestAnimationFrame(() => {\n      this.setPos();\n    });\n\n    // this.debounceUpdateImage();\n  }\n  onScroll() {\n    window.requestAnimationFrame(() => {\n      this.setPos();\n    });\n  }\n  onScrollImage() {\n    this.hide();\n    // this.imageManager.showImage();\n  }\n\n  onFocus() {\n    this.service.Focus();\n  }\n\n  bindEvents() {\n    document.body.onclick = () => this.debounceFocus();\n\n    window.addEventListener(\"scroll\", this.debounceScroll);\n    // window.addEventListener(\"scroll\", this.onScrollImage);\n\n    window.addEventListener(\"resize\", this.debounceResize);\n\n    window.addEventListener(\"visibilitychange\", this.onVisibilityChanged);\n\n    window.addEventListener(\"beforeunload\", this.onBeforeunload);\n\n    window.addEventListener(\"unload\", () => {\n      if (this.worker) {\n        this.worker.terminate();\n        this.worker = null;\n      }\n    });\n\n    // window.postMessage(\n    //   {\n    //     action: \"init\",\n    //     baseUrl: this.service.baseUrl,\n    //     caller: this.service.caller,\n    //   },\n    //   \"*\",\n    // );\n\n    window.addEventListener(\"message\", (event) => {\n      const { action, value } = event.data;\n\n      if (action == \"display\") {\n        switch (value) {\n          case \"hide\":\n            this.hideWebOffice();\n            break;\n          case \"show\":\n            this.showWebOffice();\n            break;\n        }\n      }\n\n      if (action == \"debounceResize\") {\n        this.debounceResize();\n      }\n    });\n  }\n}\n\nexport default Middleware;\n","import BaseMiddleware from \"./BaseMiddleware\";\r\nimport Middleware from \"./Middleware\";\r\n\r\nlet timer = null,\r\n  interval = 200;\r\n\r\nfunction sendCacheSetProperties(target) {\r\n  if (Object.keys(target.cacheSetPropertyMap).length > 0) {\r\n    target.sendCacheSetProperties();\r\n  }\r\n}\r\n\r\nfunction resetTimer(target) {\r\n  if (timer) {\r\n    clearInterval(timer);\r\n  }\r\n  timer = setInterval(() => {\r\n    sendCacheSetProperties(target);\r\n  }, interval);\r\n}\r\n\r\nfunction createMiddleware(caller) {\r\n  const middleware = caller ? new BaseMiddleware() : new Middleware();\r\n  const handler = {\r\n    get(target, propKey, receiver) {\r\n      if (propKey in target) {\r\n        return Reflect.get(target, propKey, receiver);\r\n      } else if (target.methods.includes(propKey)) {\r\n        return function (...args) {\r\n          resetTimer(target);\r\n          return target.methodCall(propKey, ...args);\r\n        };\r\n      } else {\r\n        try {\r\n          // ÂÖàÂ∞ùËØïËé∑ÂèñÂ±ûÊÄß\r\n          resetTimer(target);\r\n          return target.getProperty(propKey);\r\n        } catch (error) {\r\n          // Â¶ÇÊûúËé∑ÂèñÂ±ûÊÄßÂ§±Ë¥•ÔºåÂàôÂ∞ùËØïË∞ÉÁî®ÊñπÊ≥ï\r\n          return function (...args) {\r\n            sendCacheSetProperties(target);\r\n            return target.methodCall(propKey, ...args);\r\n          };\r\n        }\r\n      }\r\n    },\r\n    set(target, propKey, value, receiver) {\r\n      if (propKey in target) {\r\n        return Reflect.set(target, propKey, value, receiver);\r\n      } else {\r\n        resetTimer(target);\r\n        target.setProperty(propKey, value);\r\n      }\r\n      return true;\r\n    },\r\n  };\r\n  return new Proxy(middleware, handler);\r\n}\r\n\r\nwindow.createMiddleware = createMiddleware;\r\n\r\nexport default createMiddleware;\r\n"],"names":["defaultHeaders","syncAjax","url","method","data","headers","arguments","length","undefined","async","xhr","XMLHttpRequest","open","combinedHeaders","_objectSpread","key","setRequestHeader","toUpperCase","send","JSON","stringify","readyState","status","parse","responseText","console","error","Ajax","_classCallCheck","_createClass","value","get","params","reqUrl","concat","qs","post","delete","ImageManager","root","img","createImage","src","_this","Promise","resolve","Image","Object","assign","style","position","objectFit","transform","willChange","onload","parentNode","appendChild","updatePosition","hideImage","updateImage","_this2","log","reject","onerror","handleLoad","showImage","handleError","_this$root$getBoundin","getBoundingClientRect","top","left","width","height","border","document","body","scrollTop","opacity","handleParams","map","param","type","_typeof","service","caller","String","parseParams","result","forEach","val","push","toString","Number","isInnerIframe","window","parent","self","ajax","handleRequest","reqBody","errorMsg","URLSearchParams","product","registration","fetch","response","Error","Service","baseUrl","_defineProperty","ReqUrl","bit","GetBit","httpsurl","GetURL","GetBrowser","userAgent","navigator","toLowerCase","browser","index","indexOf","WebAssembly","Memory","initial","maximum","GetInterface","progid","interface","dpi","GetDPR","GetPic","scale","Focus","MethodCall","func","function","__iWebOffice2015__","EventList","events","PropPut","prop","propname","PropPutPkg","cacheSetPropertyMap","PropGet","BaseMiddleware","handleHidePluginAction","actionType","hideWebOffice","showWebOffice","warn","methodCall","_len","Array","_key","_this$root","apply","pluginInstance","WebOpen","methods","includes","middleware","createMiddleware","getProperty","setProperty","_enableCacheSetProperty","_propertiesWithoutCache","sendCacheSetProperties","debounce","debounceMs","_ref","signal","edges","pendingThis","pendingArgs","leading","trailing","invoke","onTimerEnd","cancel","timeoutId","schedule","clearTimeout","setTimeout","cancelTimer","flush","debounced","aborted","args","isFirstCall","addEventListener","once","throttle","throttleMs","_ref$edges","pendingAt","throttled","Date","now","Middleware","_BaseMiddleware","_callSuper","inital","socketConnect","WpsPersonalShowFlag","registEvents","setCopyright","bindThis","bindEvents","bindGlobalApi","_inherits","httpSetPos","outer_dpr","calcPos","ext","getAttribute","EventsMap","_iterator","_createForOfIteratorHelper","attributes","_step","s","n","done","attr","name","startsWith","err","e","f","eventList","keys","join","bind","debounceUpdateImage","onScroll","onScrollImage","debounceScroll","onFocus","debounceFocus","onWindowResize","onBeforeunload","onVisibilityChanged","debounceResize","globalConfig","displayPermission","getImageSrc","getGlobalConfig","updateRootElement","id","preOuterHeight","worker","workerInstance","Worker","__iWebOffice2015__baseUrl","prevParams","isReconnect","imageManager","i","selectors","selector","target","querySelector","calcPadTop","outerHeight","initImage","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","sent","visible","stop","_this4","_this$service$GetURL","wss","wsurl","postMessage","action","onmessage","event","_event$data","setPos","socketEventBus","evname","socketHandleEvent","eventName","eventFunction","_toConsumableArray","getIframeClientRect","iframe","frameElement","location","href","rect","parentViewport","documentElement","calculateVerticalOffset","baseHeight","clientHeight","innerHeight","Math","max","floor","pad_top","inner_dpr","devicePixelRatio","iframeRect","diffHeight","inner_height","pad","outer_left","outer_Height","outer_top","inner_top","checkSocketParams","nextParams","hide","sendBeacon","hidden","_hideWebOffice","_callee2","_callee2$","_context2","_this5","requestAnimationFrame","_this$service$GetPic","_updateImage","_callee3","imageSrc","_callee3$","_context3","abrupt","_this6","_this7","_this8","onclick","terminate","_event$data2","timer","interval","resetTimer","clearInterval","setInterval","handler","propKey","receiver","Reflect","_len2","_key2","set","Proxy"],"mappings":"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","x_google_ignoreList":[5,6]}